<html>

<head>
	<link rel="stylesheet" href="css/bootstrap.css" media="screen">
	<link rel="stylesheet" href="css/custom.min.css">

	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>

	<style>
		.footer {
			left: 0;
			bottom: 0;
			width: 100%;
			color: white;
			text-align: center;
			font-size: 8px;
		}
	</style>
</head>

<body>
	<title></title>
	<div class="col-lg-9 container">
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02"
				aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarColor02">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item" id="home">
						<a class="nav-link" href="#">Home
						</a>
					</li>
					<li class="nav-item" id="wifi">
						<a class="nav-link" href="#">WiFi</a>
					</li>
					<li class="nav-item" id="api">
						<a class="nav-link" href="#">API</a>
					</li>
					<li class="nav-item" id="api">
						<a class="nav-link" href="#">Sensor</a>
					</li>
				</ul>
			</div>
		</nav>

		<div>
			<iframe id="content" src="views/Home.html" width="100%" height="90%"></iframe>
		</div>

		<div class="footer">
			2021-08-25 15:07:46
		</div>

	</div>
</body>

<script>
	async function getDeviceName() {
		var title = '';
		document.title = title;

		try {
			var xhr = new XMLHttpRequest();
			xhr.open("GET", "/config?api", false);
			xhr.send(null);

			var obj = JSON.parse(xhr.responseText);
			device_name = obj["device_name"];

			title = device_name;
		}
		catch {
			title = "Config";
		}
		document.title = title;
	}
	getDeviceName();
	
	$(document).on('click', 'a', function(event){
		target = event.target.innerText;

		file = "views/" + target + ".html"
		$("#content").attr("src", file);
	});

</script>

</html>